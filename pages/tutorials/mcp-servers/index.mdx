---
title: MCP Server å¼€å‘
description: å­¦ä¹ å¦‚ä½•å¼€å‘è‡ªå®šä¹‰çš„ MCP Server æ¥æ‰©å±• Claude Code åŠŸèƒ½
---

# MCP Server å¼€å‘

MCP (Model Context Protocol) Server æ˜¯æ‰©å±• Claude Code åŠŸèƒ½çš„æ ¸å¿ƒæœºåˆ¶ã€‚é€šè¿‡å¼€å‘è‡ªå®šä¹‰ MCP Serverï¼Œä½ å¯ä»¥è®© Claude Code è®¿é—®å¤–éƒ¨å·¥å…·ã€API å’Œæ•°æ®æºã€‚

## ä»€ä¹ˆæ˜¯ MCP Serverï¼Ÿ

MCP Server æ˜¯ä¸€ä¸ªæœåŠ¡ç¨‹åºï¼Œå®ƒï¼š

- ğŸ”Œ ä¸º Claude Code æä¾›é¢å¤–çš„å·¥å…·å’ŒåŠŸèƒ½
- ğŸŒ è¿æ¥å¤–éƒ¨ API å’ŒæœåŠ¡
- ğŸ“Š è®¿é—®æ•°æ®åº“å’Œæ•°æ®æº
- ğŸ› ï¸ æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ

## æ ¸å¿ƒæ¦‚å¿µ

### Toolsï¼ˆå·¥å…·ï¼‰

MCP Server å‘ Claude Code æš´éœ²"å·¥å…·"ï¼ŒClaude å¯ä»¥è°ƒç”¨è¿™äº›å·¥å…·æ¥å®Œæˆä»»åŠ¡ã€‚

```typescript
// ç¤ºä¾‹ï¼šå¤©æ°”æŸ¥è¯¢å·¥å…·
{
  name: "get_weather",
  description: "è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯",
  parameters: {
    city: {
      type: "string",
      description: "åŸå¸‚åç§°"
    }
  }
}
```

### Resourcesï¼ˆèµ„æºï¼‰

æä¾›å¯è¯»å–çš„æ•°æ®èµ„æºï¼Œå¦‚æ–‡ä»¶ã€API æ•°æ®ç­‰ã€‚

### Promptsï¼ˆæç¤ºè¯ï¼‰

é¢„å®šä¹‰çš„æç¤ºè¯æ¨¡æ¿ï¼Œç”¨äºç‰¹å®šä»»åŠ¡ã€‚

## å¿«é€Ÿå¼€å§‹

### æœ€å°å¯ç”¨ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ªç®€å•çš„ MCP Serverï¼š

```typescript
import { MCPServer } from '@anthropic/mcp-server'

const server = new MCPServer({
  name: 'my-first-mcp',
  version: '1.0.0'
})

// æ³¨å†Œä¸€ä¸ªå·¥å…·
server.tool({
  name: 'hello',
  description: 'è¿”å›é—®å€™è¯­',
  parameters: {
    name: {
      type: 'string',
      description: 'åå­—'
    }
  },
  handler: async ({ name }) => {
    return `Hello, ${name}!`
  }
})

// å¯åŠ¨æœåŠ¡å™¨
server.start()
```

### é…ç½® Claude Code

åœ¨ Claude Code é…ç½®ä¸­æ·»åŠ ä½ çš„ MCP Serverï¼š

```json
{
  "mcpServers": {
    "my-first-mcp": {
      "command": "node",
      "args": ["/path/to/your/server.js"]
    }
  }
}
```

## å®æˆ˜æ•™ç¨‹

æœ¬èŠ‚åŒ…å«è¯¦ç»†çš„ MCP Server å¼€å‘æ•™ç¨‹ï¼š

- [åŸºç¡€å¼€å‘æ•™ç¨‹](./basic) - ä»é›¶å¼€å§‹åˆ›å»º MCP Server
- [è¿æ¥å¤–éƒ¨ API](./api-integration) - é›†æˆç¬¬ä¸‰æ–¹ API
- [æ•°æ®åº“è®¿é—®](./database) - è®¿é—®æ•°æ®åº“
- [æ–‡ä»¶æ“ä½œ](./file-operations) - è¯»å†™æ–‡ä»¶
- [é«˜çº§ç‰¹æ€§](./advanced) - æµå¼è¾“å‡ºã€é”™è¯¯å¤„ç†ç­‰

## å¸¸è§ç”¨ä¾‹

### 1. å¤©æ°”æŸ¥è¯¢

```typescript
server.tool({
  name: 'get_weather',
  description: 'è·å–å¤©æ°”ä¿¡æ¯',
  handler: async ({ city }) => {
    const response = await fetch(`https://api.weather.com/v1/${city}`)
    return response.json()
  }
})
```

### 2. æ•°æ®åº“æŸ¥è¯¢

```typescript
server.tool({
  name: 'query_database',
  description: 'æŸ¥è¯¢æ•°æ®åº“',
  handler: async ({ sql }) => {
    const result = await db.query(sql)
    return result
  }
})
```

### 3. æ–‡ä»¶æœç´¢

```typescript
server.tool({
  name: 'search_files',
  description: 'æœç´¢æ–‡ä»¶',
  handler: async ({ pattern }) => {
    const files = await glob(pattern)
    return files
  }
})
```

## æœ€ä½³å®è·µ

### 1. æ¸…æ™°çš„å·¥å…·æè¿°

```typescript
// âœ… å¥½çš„æè¿°
{
  name: "search_docs",
  description: "åœ¨æ–‡æ¡£åº“ä¸­æœç´¢å…³é”®è¯ï¼Œè¿”å›ç›¸å…³æ–‡æ¡£åˆ—è¡¨ã€‚æ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€‚"
}

// âŒ ä¸å¥½çš„æè¿°
{
  name: "search",
  description: "æœç´¢"
}
```

### 2. å‚æ•°éªŒè¯

```typescript
handler: async ({ email }) => {
  if (!email || !email.includes('@')) {
    throw new Error('Invalid email format')
  }
  // å¤„ç†é€»è¾‘...
}
```

### 3. é”™è¯¯å¤„ç†

```typescript
handler: async ({ url }) => {
  try {
    const response = await fetch(url)
    return response.json()
  } catch (error) {
    return {
      error: true,
      message: error.message
    }
  }
}
```

## è°ƒè¯•æŠ€å·§

### 1. æ—¥å¿—è¾“å‡º

```typescript
server.tool({
  name: 'debug_tool',
  handler: async (params) => {
    console.error('Tool called with:', params) // è¾“å‡ºåˆ° stderr
    // å¤„ç†é€»è¾‘...
  }
})
```

### 2. æµ‹è¯•å·¥å…·

```bash
# ä½¿ç”¨ MCP Inspector æµ‹è¯•
npx @anthropic/mcp-inspector node server.js
```

## ç›¸å…³èµ„æº

- [MCP åè®®æ–‡æ¡£](https://modelcontextprotocol.io/)
- [å®˜æ–¹ç¤ºä¾‹](https://github.com/anthropics/mcp-examples)
- [ç¤¾åŒº MCP Servers](/resources/tools/mcp-servers)

## ä¸‹ä¸€æ­¥

- [å¼€å‘ä½ çš„ç¬¬ä¸€ä¸ª MCP Server](./basic)
- [æµè§ˆç¤¾åŒº MCP Servers](/resources/tools/mcp-servers)
- [æŸ¥çœ‹å®æˆ˜æ¡ˆä¾‹](/examples/mcp-examples)
